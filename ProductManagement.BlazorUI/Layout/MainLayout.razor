@inherits LayoutComponentBase
@inject IJSRuntime JS;
@using ProductManagement.BlazorUI.Shared

<div class="topbar d-flex justify-content-between align-items-center px-4 py-2 shadow-sm">

    <h5 class="m-0 fw-bold text-Black">
        Enterprise Product Portal
    </h5>

    <div class="d-flex align-items-center gap-3">

        <NavLink href="/" class="nav-link">Dashboard</NavLink>
        <NavLink href="/products" class="nav-link">Products</NavLink>
        <NavLink href="/register" class="nav-link">Register User</NavLink>

        @* <button class="btn btn-sm btn-outline-light" *@
        <button class="btn btn-sm btn-outline-secondary"
                @onclick="ToggleTheme">
            <i class="bi darkMode @(darkMode ? "bi-sun-fill" : "bi-moon-fill")"></i>
        </button>

    </div>

</div>

<div class="page">
    <div class="sidebar bg-dark text-white vh-100 shadow">
        <NavMenu />
    </div>

    <main class="p-4">
        @Body
    </main>
</div>

<Toast />

@code{
    private bool darkMode = false;

    private void ToggleTheme()
    {
        darkMode = !darkMode;

        var body = darkMode ? "dark-mode" : "";
        JS.InvokeVoidAsync("setTheme", body);
    }
}
